<mvc:View
    controllerName="vendorportal.controller.Register"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:l="sap.ui.layout">
    <Page showHeader="false" class="sapUiContentPadding">
        
        <VBox>
    <Toolbar class="blueHeaderToolbar" height="3rem" design="Solid">
        <ToolbarSpacer width="0.5rem"/>
        <Image
            src="./images/companylogo.png"
            height="2rem" />  </Toolbar>
</VBox>
        <FlexBox height="100%" alignItems="Center" justifyContent="Center">
            <Panel width="450px" class="sapUiNoContentPadding">
                <headerToolbar>
                    <Toolbar>
                        <Title text="Create Your Vendor Account"/>
                    </Toolbar>
                </headerToolbar>
                <content>
                    <f:SimpleForm editable="true" layout="ResponsiveGridLayout"
                        labelSpanL="4" labelSpanM="4" emptySpanL="0" emptySpanM="0"
                        columnsL="1" columnsM="1">
                        <f:content>
                            <Label text="First Name" required="true"/>
                            <Input id="firstNameInput" liveChange=".onInputChange"/>

                            <Label text="Last Name" required="true"/>
                            <Input id="lastNameInput" liveChange=".onInputChange"/>

                            <Label text="Email Address" required="true"/>
                            <HBox width="100%" alignItems="End">
                                <Input
                                    id="emailInput"
                                    type="Email"
                                    width="100%"
                                    editable="{viewModel>/emailEditable}"
                                    liveChange=".onInputChange"/>
                                <Button
                                    id="sendOtpButton"
                                    text="{= ${viewModel>/otpSent} ? 'Resend OTP' : 'Send OTP'}"
                                    class="sapUiTinyMarginBegin"
                                    press=".onSendOtp"
                                    enabled="{= !!${emailInput>/value} &amp;&amp; ${viewModel>/emailEditable}}"/>
                            </HBox>

                            <Label text="Verification Code" required="true" visible="{viewModel>/otpSent}"/>
                            <HBox width="100%" alignItems="End" visible="{viewModel>/otpSent}">
                                 <Input
                                    id="otpInput"
                                    placeholder="Enter OTP"
                                    width="100%"
                                    editable="{= !${viewModel>/otpVerified}}"/>
                                <Button
                                    id="verifyOtpButton"
                                    text="Verify OTP"
                                    class="sapUiTinyMarginBegin"
                                    press=".onVerifyOtp"
                                    enabled="{= !!${otpInput>/value} &amp;&amp; !${viewModel>/otpVerified}}"/>
                            </HBox>
                            
                            <Label text="" />
                            <ObjectStatus
                                class="sapUiSmallMarginBottom"
                                text="OTP Verified Successfully"
                                state="Success"
                                visible="{viewModel>/otpVerified}" />
                            
                            <Label text="Username" required="true"/>
                            <Input id="usernameInput" visible="{viewModel>/otpVerified}" liveChange=".onInputChange" />

                            <Label text="Password" required="true"/>
                            <Input id="passwordInput" visible="{viewModel>/otpVerified}" type="Password" liveChange=".onInputChange"/>

                            <Label text="Confirm Password" required="true"/>
                            <Input id="confirmPasswordInput" visible="{viewModel>/otpVerified}" type="Password" liveChange=".onInputChange"/>
                        </f:content>
                    </f:SimpleForm>
                    <VBox class="sapUiSmallMargin">
                        <Button
                            id="registerButton"
                            text="Register"
                            type="Emphasized"
                            width="100%"
                            press=".onRegister"
                            enabled="false"
                            visible="{viewModel>/otpVerified}"/>
                        <Link
                            text="Back to Login"
                            class="sapUiMediumMarginTop sapUiSelfCenter"
                            press=".onBackToLogin"/>
                    </VBox>
                </content>
            </Panel>
        </FlexBox>
    </Page>
</mvc:View>